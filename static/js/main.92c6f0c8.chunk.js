(this["webpackJsonpbbdash.app"]=this["webpackJsonpbbdash.app"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),i=n.n(c),s=n(10),o=n(1);function u(){return Object(o.jsx)("div",{className:"navbar",children:Object(o.jsxs)("div",{className:"navbar-content",children:[Object(o.jsx)(s.b,{to:"/",className:"navbar-brand",children:"BBDash"}),Object(o.jsx)(s.b,{to:"/downloads",children:"Downloads"})]})})}var l=n(8),j=n(17);function d(e){var t=e.name,n=e.created_at;return Object(a.useMemo)((function(){return t.split("-").map((function(e){return parseInt(e)})).find((function(e){return!isNaN(e)}))||Date.parse(n)}),[t])}var b,h=n(12),f=n.n(h),m=n(4),O=n(22),g="EricRabil",v="BBDash";function p(e){return x.apply(this,arguments)}function x(){return(x=Object(O.a)(f.a.mark((function e(t){var n,a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="cached-releases-".concat(t,"-").concat(g,"-").concat(v),!(a=localStorage.getItem(n))){e.next=6;break}return e.abrupt("return",JSON.parse(a));case 6:return e.next=8,fetch("https://api.github.com/repos/".concat(g,"/").concat(v,"/actions/artifacts?page=").concat(t));case 8:return r=e.sent,e.next=11,r.json();case 11:return c=e.sent,localStorage.setItem(n,JSON.stringify(c)),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.id;return"https://nightly.link/".concat(g,"/").concat(v,"/actions/artifacts/").concat(t,".zip")}function A(e){return b.development}!function(e){e.development="development",e.beta="beta",e.stable="stable"}(b||(b={})),(b||(b={})).describeBuildType=function(e){switch(e){case b.stable:return"Stable Build";case b.beta:return"Beta Build";case b.development:default:return"Development Build"}};var N=Object(a.createContext)({releases:[],total:0,loading:!0,loadMore:function(){return Promise.resolve()}});function y(e){var t=e.children,n=function(){var e=Object(a.useState)({}),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),i=Object(m.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(0),l=Object(m.a)(u,2),j=l[0],d=l[1],b=Object(a.useState)(!1),h=Object(m.a)(b,2),g=h[0],v=h[1],x=Object(a.useCallback)(Object(O.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return v(!0),t=s+1,e.next=6,p(t);case 6:a=e.sent,r(Object.assign({},n,a.artifacts.reduce((function(e,t){return e[t.id]=t,e}),{}))),d(a.total_count),o(t),v(!1);case 11:case"end":return e.stop()}}),e)}))),[n,g,v,s]);return Object(a.useLayoutEffect)((function(){0===s&&x()}),[]),{releases:Object(a.useMemo)((function(){return Object.values(n).sort((function(e,t){return Date.parse(t.created_at)-Date.parse(e.created_at)}))}),[n]),total:j,loadMore:x,loading:g}}();return Object(o.jsx)(N.Provider,{value:n,children:t})}function k(e){var t=e.releases,n=e.total,r=e.loadMore,c=e.loading,i=function(e,t){var n=Object(a.useState)(1),r=Object(m.a)(n,2),c=r[0],i=r[1],s=Math.ceil(e/t),o=(c-1)*t,u=Math.min(e,o+t),l=Object(a.useCallback)((function(){return i(c+1)}),[c,i]),j=Object(a.useCallback)((function(){return i(c-1)}),[c,i]),d=Object(a.useCallback)((function(e){e>s?e=s:e<0&&(e=0),i(e)}),[s,i]);return{startIndex:o,stopIndex:u,currentPage:c,totalPages:s,nextPage:c===s?null:l,prevPage:1===c?null:j,jumpToPage:d}}(n,35),s=i.startIndex,o=i.stopIndex,u=Object(j.a)(i,["startIndex","stopIndex"]),l=Object(a.useMemo)((function(){return t.slice(s,o)}),[t,s,o]);return Object(a.useEffect)((function(){c||o>t.length&&r()}),[s,t,c]),Object(a.useMemo)((function(){return Object.assign({},u,{releases:l,startIndex:s,stopIndex:o,total:n,loading:c})}),[u,l,s,o,n,c])}var w=n(26),I=n(15),B=n(16),S=n(27),C=n(29),M=function(e){Object(S.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(I.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDerive=null,e}return Object(B.a)(n,[{key:"derive",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.from(Object(l.a)(Object(l.a)({},this),t));return null===(e=this.onDerive)||void 0===e||e.call(this,a),a}}],[{key:"from",value:function(e){var t=e.itemSize,a=e.itemsPerPage,r=e.items,c=e.pageNumber,i=e.onDerive,s=new n(t,a,r,c);return s.onDerive=i,s}}]),n}(function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(I.a)(this,e),this.itemSize=t,this.itemsPerPage=n,this.items=a,this.pageNumber=r}return Object(B.a)(e,[{key:"derive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.from(Object(l.a)(Object(l.a)({},this),t))}},{key:"changePage",value:function(e){return this.derive({pageNumber:e})}},{key:"nextPage",value:function(){return this.canGoForward?this.changePage(this.pageNumber+1):this}},{key:"prevPage",value:function(){return this.canGoBackward?this.changePage(this.pageNumber-1):this}},{key:"offsetForPage",value:function(e){return(e-1)*this.pageSize+this.itemsInPage(e)*this.itemSize}},{key:"showItem",value:function(e){return this.itemIsVisible(e)?this:this.changePage(Math.floor(e/this.itemsPerPage))}},{key:"itemIsVisible",value:function(e){return this.firstVisibleItem<=e&&e<=this.lastVisibleItem}},{key:"itemsInPage",value:function(e){var t=this.itemsPerPage*e;return t>this.items?0:t+this.itemsPerPage>this.items?this.items-t:this.itemsPerPage}},{key:"offset",get:function(){return this.offsetForPage(this.pageNumber)}},{key:"pageSize",get:function(){return this.itemSize*this.itemsPerPage}},{key:"firstVisibleItem",get:function(){return this.pageNumber*this.itemsPerPage}},{key:"lastVisibleItem",get:function(){return Math.min(this.firstVisibleItem+(this.itemsPerPage-1),this.items)}},{key:"canGoForward",get:function(){return this.lastVisibleItem!==this.items}},{key:"canGoBackward",get:function(){return this.offset>0}}],[{key:"from",value:function(t){return new e(t.itemSize,t.itemsPerPage,t.items,t.pageNumber)}}]),e}());function D(e){var t=d(e),n=P(e),a=b.describeBuildType(A());return Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:Object(o.jsxs)("a",{href:n,children:["#",t]})}),Object(o.jsx)("td",{children:a}),Object(o.jsx)("td",{children:Object(o.jsx)("a",{href:n,children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACFwAAAhcBZS5lVgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACzSURBVCiR3ZKxCcJgFIS/98cZHMAihdEBHCIGG0vByi0UHcXONgFH0CJVSHACIeACaYJnFY0YtPe6u/t48OBMEgCjqa2BLe/aFLF2AK4VDvjUM3MdZaf+CuyNQ5vdjb6B39H7wdRWTtwsCDkBkx8Hz86rmQPlF6j0auYuO+oKREDVAVVAlB11dQBFrNTEElALkollESuF1td5ooP0GoXENk90aLw16wEwMxuG7AEuCQu1ygcKSD4mPqwUrQAAAABJRU5ErkJggg=="})})})]})}var V=n(28),E=n.n(V),F=Object(a.createContext)({startIndex:0,stopIndex:0,currentPage:1,totalPages:1,jumpToPage:function(){},nextPage:function(){},prevPage:function(){}});function z(e){var t=e.pageNumber,n=Object(a.useContext)(F),r=n.currentPage,c=n.jumpToPage;return Object(o.jsx)("div",{className:"pagination-button","attr-active":(r===t).toString(),onClick:function(){c(t)},children:t})}var G=r.a.memo((function(e){var t=e.totalPages,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(a.useState)((function(){return Object(w.a)(M,t)})),c=Object(m.a)(r,2),i=c[0],s=c[1];return i.onDerive=s,i}(23,5,Math.max(0,t-2)),r=Object(a.useContext)(F).currentPage,c=Math.max(0,r-2),i=Math.max(0,t-2);Object(a.useEffect)((function(){n.derive({items:i})}),[i]),Object(a.useEffect)((function(){n.itemIsVisible(c)||n.showItem(c)}),[c]);var s=n.canGoBackward,u=n.canGoForward,l=n.offset;return 0===n.items?null:Object(o.jsxs)("div",{className:"pagination-scroll-controller",children:[Object(o.jsx)("div",{className:"pagination-button","attr-disabled":(!s).toString(),onClick:n.prevPage,children:"\u2190"}),Object(o.jsx)("div",{className:"pagination-scroll-container",style:{width:"".concat(Math.min(115,23*(t-2)),"px")},children:Object(o.jsx)("div",{className:"pagination-main-page-buttons",style:{transform:"translateX(-".concat(l,"px)")},children:E()(2,t).map((function(e){return Object(o.jsx)(z,{pageNumber:e},e)}))})}),Object(o.jsx)("div",{className:"pagination-button","attr-disabled":(!u).toString(),onClick:n.nextPage,children:"\u2192"})]})}),(function(e,t){return e.totalPages===t.totalPages}));function H(e){var t=e.direction,n=e.children;return Object(o.jsx)(F.Consumer,{children:function(e){var a=e[t];return Object(o.jsx)("div",{className:"pagination-button pagination-movement-button","attr-disabled":(null===a).toString(),onClick:function(){return null===a||void 0===a?void 0:a()},children:n})}})}function J(e){var t=e.api;return Object(o.jsx)(F.Provider,{value:t,children:Object(o.jsxs)("div",{className:"pagination-controller",children:[Object(o.jsx)(H,{direction:"prevPage",children:"< Prev"}),Object(o.jsx)(z,{pageNumber:1}),Object(o.jsx)(G,{totalPages:t.totalPages}),t.totalPages>1?Object(o.jsx)(z,{pageNumber:t.totalPages}):null,Object(o.jsx)(H,{direction:"nextPage",children:"Next >"})]})})}function T(){var e=k(Object(a.useContext)(N)),t=e.releases,n=e.total,r=Object(j.a)(e,["releases","total"]);return Object(o.jsxs)("div",{className:"container releases-container",children:[Object(o.jsxs)("div",{className:"container-header",children:[Object(o.jsx)("div",{className:"container-header-left",children:"Versions"}),Object(o.jsxs)("div",{className:"container-header-right",children:[n," listed build",1===t.length?"":"s"]})]}),Object(o.jsxs)("div",{className:"container-body",children:[Object(o.jsx)(J,{api:r}),Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Build Number"}),Object(o.jsx)("th",{children:"Type"}),Object(o.jsx)("th",{children:"Download"})]})}),Object(o.jsx)("tbody",{children:t.map((function(e){return Object(o.jsx)(D,Object(l.a)({},e),e.id)}))})]}),Object(o.jsx)("div",{className:"container-footer",children:Object(o.jsx)(J,{api:r})})]})]})}function U(e){var t=e.release,n=e.type,a=b.describeBuildType(n),r=d(t);return Object(o.jsxs)("a",{href:P(t),className:"latest-release-item","attr-release-type":n,children:[Object(o.jsx)("div",{className:"release-item-type",children:a}),Object(o.jsx)("span",{children:r})]})}function L(){var e=function(e){return Object(a.useMemo)((function(){return Object.fromEntries(e.map((function(e){return[A(),e]})).sort((function(e,t){var n=Object(m.a)(e,2),a=n[0],r=n[1],c=Object(m.a)(t,2),i=c[0],s=c[1];return a!==i?1:Date.parse(r.created_at)-Date.parse(s.created_at)})).filter((function(e,t,n){var a=Object(m.a)(e,1)[0];return n.findIndex((function(e){var t=Object(m.a)(e,1)[0];return a===t}))===t})))}),[e])}(Object(a.useContext)(N).releases);return Object(o.jsxs)("div",{className:"container container-full",children:[Object(o.jsx)("div",{className:"container-header",children:Object(o.jsx)("div",{className:"container-header-left",children:"Latest Downloads"})}),Object(o.jsx)("div",{className:"container-body",children:Object.entries(e).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(o.jsx)(U,{release:a,type:n},n)}))})]})}var R=n(2);function Q(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"main-content",children:Object(o.jsx)(R.c,{children:Object(o.jsx)(R.a,{path:"/downloads",children:Object(o.jsx)("div",{className:"download-page-content",children:Object(o.jsxs)(y,{children:[Object(o.jsx)(T,{}),Object(o.jsx)(L,{})]})})})})})]})}n(41);i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(s.a,{children:Object(o.jsx)(Q,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.92c6f0c8.chunk.js.map